<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <style>
        /* CSS STYLES */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Sacramento&display=swap');

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: #ffe6e6; /* Light pink bg */
            color: #d63384;
            text-align: center;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Sacramento', cursive;
        }

        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            display: none; /* Hidden by default, JS controls flow */
        }

        .active {
            display: flex;
            animation: fadeIn 1s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* SCREEN 1: ASK OUT */
        .gif-container img {
            width: 200px;
            max-width: 90vw;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .btn-group {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            width: 100%;
        }

        button {
            padding: 10px 25px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, font-size 0.2s;
            margin: 0 10px;
            font-family: 'Poppins', sans-serif;
            min-width: 100px;
            touch-action: manipulation;
        }

        .btn-yes {
            background-color: #ff4d6d;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
            z-index: 10;
        }

        .btn-no {
            background-color: #e9ecef;
            color: #333;
            position: relative; /* Essential for moving effect */
        }

        /* SCREEN 2: MENU/GIFTS */
        .gift-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 30px;
            width: 90%;
            max-width: 600px;
        }

        .gift-box {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .gift-box:hover {
            transform: translateY(-5px);
        }

        /* SCREEN 3: QUIZ */
        #quiz-container {
            width: 100%;
            max-width: 500px;
            padding: 0 20px;
        }

        .quiz-option {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 10px auto;
            padding: 15px;
            background: white;
            border: 2px solid #ff4d6d;
            border-radius: 10px;
            color: #ff4d6d;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .quiz-option.correct {
            background: #ff4d6d;
            color: white;
        }

        /* SCREEN 4: GALLERY */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            width: 90%;
            max-width: 800px;
        }

        .gallery img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        /* SCREEN 5: LETTER */
        .letter-paper {
            background: #fff;
            padding: 30px 20px;
            max-width: 600px;
            margin: 20px 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            font-family: 'Poppins', sans-serif;
            line-height: 1.8;
            text-align: left;
            position: relative;
            font-size: 0.95rem;
        }
        
        .letter-paper::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 10px;
            background: repeating-linear-gradient(45deg, #ff4d6d, #ff4d6d 10px, white 10px, white 20px);
        }

        .back-btn {
            margin-top: 30px;
            background: #333;
            color: white;
            font-size: 1rem;
            padding: 12px 30px;
        }

        /* MOBILE RESPONSIVENESS */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            h2 {
                font-size: 1.4rem;
            }

            p {
                font-size: 0.95rem;
            }

            body {
                padding: 10px;
            }

            .container {
                padding: 15px;
            }

            .btn-group {
                gap: 10px;
            }

            button {
                padding: 12px 20px;
                font-size: 1rem;
                margin: 5px;
                min-width: 80px;
            }

            .btn-yes, .btn-no {
                flex: 1;
                min-width: 100px;
                max-width: 150px;
            }

            .gift-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 15px;
                width: 95%;
            }

            .gift-box h2 {
                font-size: 2rem;
                margin: 10px 0;
            }

            .gift-box p {
                font-size: 0.9rem;
                margin: 5px 0;
            }

            .gallery {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }

            .gallery img {
                height: 100px;
            }

            .letter-paper {
                padding: 20px 15px;
                font-size: 0.9rem;
                margin: 15px 5px;
            }

            .music-toggle {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
                bottom: 15px;
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }

            h2 {
                font-size: 1.2rem;
            }

            p {
                font-size: 0.9rem;
            }

            .gif-container img {
                width: 150px;
            }

            button {
                padding: 10px 15px;
                font-size: 0.95rem;
            }

            .btn-group {
                gap: 8px;
                flex-direction: column;
                width: 100%;
            }

            .btn-yes, .btn-no {
                width: 100%;
                max-width: none;
            }

            .gift-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 12px;
                width: 100%;
            }

            .quiz-option {
                width: 90%;
                max-width: none;
                padding: 12px;
                font-size: 0.9rem;
            }

            .gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                width: 100%;
            }

            .gallery img {
                height: 90px;
            }

            .letter-paper {
                padding: 15px 10px;
                font-size: 0.85rem;
                margin: 10px 0;
            }

            #quiz-container {
                padding: 0 10px;
            }
        }

        /* SCREEN 6: CONFETTI & ANIMATIONS */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #ff4d6d;
            pointer-events: none;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* FLOATING HEARTS */
        .floating-heart {
            position: fixed;
            pointer-events: none;
            font-size: 2rem;
            animation: float-up 3s ease-in forwards;
            opacity: 1;
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) translateX(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px) scale(0);
                opacity: 0;
            }
        }

        /* BUTTON HOVER EFFECTS */
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 77, 109, 0.5);
        }

        button:active {
            transform: scale(0.95);
        }

        /* MUSIC PLAYER */
        .music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ff4d6d;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            transform: scale(1.1);
        }

        /* PULSING TEXT */
        .pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        /* PARTICLE EFFECT */
        .particle {
            position: fixed;
            pointer-events: none;
            font-size: 1.5rem;
            animation: particle-burst 1s ease-out forwards;
        }

        @keyframes particle-burst {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        /* GENERAL UTILS */
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="screen-proposal" class="container active">
        <div class="gif-container">
            <img id="proposalGif" src="https://media.tenor.com/N7GiO8UsfooAAAAj/bubu-dudu-heart.gif" alt="Cute Bear">
        </div>
        <h1>Hmra se Biyah karab? ü•∫</h1>
        <p>Life is an incredible journey, and I want to spend every single second of it with you.</p>
        <div class="btn-group">
            <button class="btn-yes" id="yesBtn" onclick="celebrateYes()">YES</button>
            <button class="btn-no" id="noBtn" onmouseover="moveButton()" onmouseout="resetToHappyGif()">NO</button>
        </div>
    </div>

    <div id="screen-menu" class="container">
        <h1>I love you bahut saara hmr bacha üíñ</h1>
        <p>Ham aabe na sakli aaha ke pass oise ye banaileeü•∫</p>
        
        <div class="gift-grid">
            <div class="gift-box" onclick="goToScreen('screen-quiz')">
                <h2>üß†</h2>
                <p>Fun Quiz</p>
            </div>
            <div class="gift-box" onclick="goToScreen('screen-gallery')">
                <h2>üì∏</h2>
                <p>Our Memories</p>
            </div>
            <div class="gift-box" onclick="goToScreen('screen-letter')">
                <h2>üíå</h2>
                <p>Open Letter</p>
            </div>
        </div>
    </div>

    <div id="screen-quiz" class="container">
        <h1>Quiz for you üßê</h1>
        <div id="quiz-container">
            <p id="quiz-question">Who is the absolute 'best' in this relationship?</p>
            <div id="quiz-options">
                </div>
        </div>

        <button class="back-btn" onclick="goToScreen('screen-menu')">Back to Menu</button>
    </div>

    <div id="screen-gallery" class="container">
        <h1>Look at this cutie ü•∞</h1>
        <div class="gallery">
            <img src="Images/1.JPG" alt="Memory">
            <img src="Images/2.JPG" alt="Memory">
            <img src="Images/3.JPG" alt="Memory">
            <img src="Images/4.JPG" alt="Memory">
            <img src="Images/5.JPG" alt="Memory">
            <img src="Images/6.JPG" alt="Memory">
        </div>
        <button class="back-btn" onclick="goToScreen('screen-menu')">Back to Menu</button>
    </div>

    <div id="screen-letter" class="container">
        <div class="letter-paper">
            <h3>Mine Gudiyaa,</h3>
            <p>
                Aaha hmra se yete dur xi fir bhi aaha hamesha hmr dil me xi,<br>
                Thank you for being my peace, my smile, and my love,<br>
                Ham aaha se vete laagi yete tadpaixi, I love you bahutt bahut bahut saara hmr jaan. 
                <br><br>
                Happy Valentine's Day Hmr bachaa!
            </p>
            <p>Forever yours,<br><strong>Gulugulu</strong></p>
        </div>
        <button class="back-btn" onclick="goToScreen('screen-menu')">Back to Menu</button>
    </div>

    <script>
        // JAVASCRIPT LOGIC

        let yesButtonSize = 1;
        let isMusicPlaying = false;
        let currentGifIndex = 0;
        let gifRotationInterval;

        // GIF Collections
        const happyGifs = [
            "https://media.tenor.com/N7GiO8UsfooAAAAj/bubu-dudu-heart.gif", // Bubu Dudu Heart
            "https://media.tenor.com/WdSEzZ1G4LIAAAAC/milk-and-mocha-couple.gif", // Milk Mocha Shy
            "https://media.tenor.com/w_Oc4-4j4LcAAAAd/milk-and-mocha.gif" // Cute couple
        ];

        const sadGifs = [
            "https://media.tenor.com/TXGlBMnBJAUAAAAj/crying-panda-cute.gif", // Crying Panda
            "https://media.tenor.com/qABKvPwdUKEAAAAj/sad-cute.gif", // Sad
            "https://media.tenor.com/rJ5LSLqeqgMAAAAj/sad-bear.gif" // Sad Bear
        ];

        const successGifs = [
            "https://media.tenor.com/RknqPk2h6ssAAAAC/bear-hug.gif", // Big Bear Hug
            "https://media.tenor.com/XJ2LqM9xJNcAAAAC/bear-love.gif", // Love Bear
            "https://media.tenor.com/cL_hVgKjZLcAAAAd/happy-dance.gif" // Victory Dance
        ];

        // Start GIF rotation on page load
        function startGifRotation() {
            gifRotationInterval = setInterval(() => {
                currentGifIndex = (currentGifIndex + 1) % happyGifs.length;
                document.getElementById('proposalGif').src = happyGifs[currentGifIndex];
            }, 4000); // Change GIF every 4 seconds
        }

        // Change to sad GIF when hovering No button
        function changeToSadGif() {
            clearInterval(gifRotationInterval);
            const randomSad = sadGifs[Math.floor(Math.random() * sadGifs.length)];
            document.getElementById('proposalGif').src = randomSad;
        }

        // Reset to happy GIF when leaving No button
        function resetToHappyGif() {
            currentGifIndex = 0;
            document.getElementById('proposalGif').src = happyGifs[0];
            startGifRotation();
        }

        // Celebrate Yes click
        function celebrateYes() {
            clearInterval(gifRotationInterval);
            const randomSuccess = successGifs[Math.floor(Math.random() * successGifs.length)];
            document.getElementById('proposalGif').src = randomSuccess;
            createConfetti();
            createFloatingHearts();
            
            setTimeout(() => {
                goToScreen('screen-menu');
            }, 1500);
        }

        // Function to create confetti
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = '-10px';
                confetti.style.background = ['#ff4d6d', '#ff69b4', '#ffb3c1', '#e91e63'][Math.floor(Math.random() * 4)];
                confetti.style.animation = `confetti-fall ${2 + Math.random() * 1}s linear forwards`;
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }
        }

        // Create floating hearts
        function createFloatingHearts() {
            for (let i = 0; i < 8; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerText = ['‚ù§Ô∏è', 'üíñ', 'üíï'][Math.floor(Math.random() * 3)];
                heart.style.left = Math.random() * window.innerWidth + 'px';
                heart.style.top = window.innerHeight + 'px';
                document.body.appendChild(heart);

                setTimeout(() => heart.remove(), 3000);
            }
        }

        // Particle burst effect on click
        function createParticleBurst(x, y) {
            const particles = ['‚ú®', 'üí´', '‚≠ê'];
            for (let i = 0; i < 6; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.innerText = particles[Math.floor(Math.random() * particles.length)];
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                const angle = (i / 6) * Math.PI * 2;
                const velocity = 50;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
        }

        // Music toggle
        function toggleMusic() {
            const btn = document.querySelector('.music-toggle');
            isMusicPlaying = !isMusicPlaying;
            btn.innerText = isMusicPlaying ? 'üîä' : 'üîá';
        }

        // Add click event for particle effects
        document.addEventListener('click', (e) => {
            if (e.target.tagName !== 'BUTTON') {
                createParticleBurst(e.clientX, e.clientY);
            }
        });

        // Function to switch between screens
        function goToScreen(screenId) {
            const screens = document.querySelectorAll('.container');
            screens.forEach(screen => {
                screen.classList.remove('active');
                setTimeout(() => {
                    if(!screen.classList.contains('active')) screen.style.display = 'none';
                }, 100);
            });

            const target = document.getElementById(screenId);
            target.style.display = 'flex';
            setTimeout(() => target.classList.add('active'), 10);

            if(screenId === 'screen-quiz') {
                currentQuestionIndex = 0;
                loadQuestion();
            }

            // Trigger effects on menu enter
            if(screenId === 'screen-menu') {
                createFloatingHearts();
            }
        }

        // Logic for the "No" button running away + "Yes" button growing
        function moveButton() {
            changeToSadGif();
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            
            // Move No Button
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 150);
            noBtn.style.position = 'fixed';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;

            // Increase Yes Button size
            yesButtonSize += 0.15;
            yesBtn.style.transform = `scale(${yesButtonSize})`;
        }

        // --- NEW QUIZ DATA & LOGIC ---
        const quizData = [
            {
                q: "Ham Sabse jyaade kekra pasand karaixi?",
                options: [
                    { text: "You", correct: true },
                    { text: "Youuuu", correct: true },
                    { text: "Obvisiouly Youu", correct: true }
                ]
            },
            {
                q: "What is my favorite thing about you?",
                options: [
                    { text: "Your Smile", correct: true },
                    { text: "Your Laugh", correct: true },
                    { text: "Everything", correct: true }
                ]
            },
            {
                q: "If we were in a movie, which genre would it be?",
                options: [
                    { text: "Rom-Com", correct: true },
                    { text: "Action (because of our arguments)", correct: false },
                    { text: "A Masterpiece", correct: true }
                ]
            }
        ];

        let currentQuestionIndex = 0;

        function loadQuestion() {
            const questionEl = document.getElementById('quiz-question');
            const optionsContainer = document.getElementById('quiz-options');
            const currentQ = quizData[currentQuestionIndex];

            questionEl.innerText = currentQ.q;
            optionsContainer.innerHTML = '';

            currentQ.options.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'quiz-option';
                btn.innerText = opt.text;
                btn.onclick = () => handleQuiz(btn, opt.correct);
                optionsContainer.appendChild(btn);
            });
        }

        function handleQuiz(element, isCorrect) {
            if (isCorrect) {
                element.style.background = '#4caf50'; 
                element.style.color = 'white';
                element.innerHTML = "Correct! üéâ";
                createConfetti();
                createFloatingHearts();
                
                // Move to next question after a delay
                setTimeout(() => {
                    currentQuestionIndex++;
                    if(currentQuestionIndex < quizData.length) {
                        loadQuestion();
                    } else {
                        document.getElementById('quiz-container').innerHTML = "<h3 style='animation: pulse 1.5s ease-in-out infinite;'>You passed the test! You're the perfect partner! üèÜ</h3>";
                        createConfetti();
                        createFloatingHearts();
                    }
                }, 1000);
            } else {
                element.style.background = '#f44336'; 
                element.style.color = 'white';
                element.innerHTML = "Wrong! Try again üòú";
            }
        }
    </script>

    <!-- MUSIC TOGGLE BUTTON -->
    <button class="music-toggle" onclick="toggleMusic()" title="Toggle Music"></button>

    <script>
        // Initialize GIF rotation on page load
        document.addEventListener('DOMContentLoaded', () => {
            startGifRotation();
        });
    </script>
</body>
</html>
